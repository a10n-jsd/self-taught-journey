<!DOCTYPE html>
<html>
  <head>
    <title>Exercise: 12f (revisited)</title>
  </head>
  <body>
    <button class="js-add-button">Add to cart</button>
    
    <p class="js-message"></p>
    
    <script>
      const buttonElement = document.querySelector('.js-add-button');
      let timeoutID;

      buttonElement.addEventListener('click', () => {
        addToCart();
      })

      function addToCart() {
        const paragraphElement = document.querySelector('.js-message');
        paragraphElement.innerHTML = 'Added';
        
        // First, cancel the previous timeout so that
        // it doesn't remove the message too quickly.
        clearInterval(timeoutID);

        // When we click the button again,
        // It will 'refresh' or start setTimeout() again
        timeoutID = setTimeout(() => {
          paragraphElement.innerHTML = '';
        }, 2000);

      }
      
      

    </script>
  </body>
</html>